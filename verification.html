<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√©rification Carte BDE - Bureau des √âtudiants</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600;700&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .card {
            background: white;
            max-width: 480px;
            width: 100%;
            border-radius: 20px;
            padding: 45px;
            box-shadow: 0 25px 70px rgba(0,0,0,0.4);
            animation: slideUp 0.6s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 3rem;
            animation: checkmark 0.5s ease 0.3s both;
        }
        
        @keyframes checkmark {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
        
        h1 {
            font-family: 'Space Grotesk', sans-serif;
            color: #1a365d;
            text-align: center;
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .approval {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 3px solid #10b981;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            animation: fadeIn 0.5s ease 0.5s both;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .approval strong {
            color: #065f46;
            font-size: 1.25rem;
            display: block;
            margin-bottom: 12px;
            font-weight: 700;
        }
        
        .approval p {
            color: #047857;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .badge {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #00d4aa, #00a786);
            color: white;
            border-radius: 25px;
            font-weight: 700;
            font-size: 0.9rem;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(0,212,170,0.3);
        }
        
        .info {
            background: #f8fafc;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .info-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: #1a365d;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .row:last-child { 
            border-bottom: none; 
        }
        
        .label {
            font-weight: 600;
            color: #64748b;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .value {
            font-weight: 700;
            color: #1a365d;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #64748b;
            font-size: 0.85rem;
            line-height: 1.6;
        }
        
        .footer strong {
            color: #1a365d;
            display: block;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .error {
            background: #fee2e2;
            border: 3px solid #ef4444;
            color: #991b1b;
            padding: 25px;
            border-radius: 16px;
            text-align: center;
        }
        
        .error strong {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="card" id="content">
        <div class="icon">‚è≥</div>
        <h1>Chargement...</h1>
    </div>
    
    <script>
        function getParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                nom: params.get('n'),
                fonction: params.get('f'),
                id: params.get('i'),
                annee: params.get('a'),
                dept: params.get('d'),
                email: params.get('e'),
                tel: params.get('t')
            };
        }
        
        function render() {
            const data = getParams();
            const content = document.getElementById('content');
            
            // Check if we have minimum required data
            if (!data.nom || !data.id || !data.annee) {
                content.innerHTML = `
                    <div class="icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">‚ùå</div>
                    <h1>Erreur de V√©rification</h1>
                    <div class="error">
                        <strong>Carte Invalide</strong>
                        <p>Les donn√©es de v√©rification sont manquantes ou incorrectes. Veuillez r√©essayer avec un QR code valide.</p>
                    </div>
                `;
                return;
            }
            
            // Build the verification page
            let html = `
                <div class="icon">‚úì</div>
                <h1>Carte V√©rifi√©e</h1>
                
                <div class="approval">
                    <strong>‚úÖ CETTE CARTE EST APPROUV√âE</strong>
                    <p>Cette adh√©sion est valide et approuv√©e par le Bureau des √âtudiants - LIU</p>
                    <div class="badge">Membre Actif ${data.annee}</div>
                </div>
                
                <div class="info">
                    <div class="info-title">üìã Informations du Membre</div>
                    
                    <div class="row">
                        <span class="label">Nom Complet</span>
                        <span class="value">${data.nom}</span>
                    </div>
            `;
            
            if (data.fonction) {
                html += `
                    <div class="row">
                        <span class="label">Fonction</span>
                        <span class="value">${data.fonction}</span>
                    </div>
                `;
            }
            
            html += `
                    <div class="row">
                        <span class="label">ID Membre</span>
                        <span class="value">${data.id}</span>
                    </div>
                    <div class="row">
                        <span class="label">Ann√©e</span>
                        <span class="value">${data.annee}</span>
                    </div>
            `;
            
            if (data.dept) {
                html += `
                    <div class="row">
                        <span class="label">D√©partement</span>
                        <span class="value">${data.dept}</span>
                    </div>
                `;
            }
            
            if (data.email) {
                html += `
                    <div class="row">
                        <span class="label">Email</span>
                        <span class="value">${data.email}</span>
                    </div>
                `;
            }
            
            if (data.tel) {
                html += `
                    <div class="row">
                        <span class="label">T√©l√©phone</span>
                        <span class="value">${data.tel}</span>
                    </div>
                `;
            }
            
            html += `
                    <div class="row">
                        <span class="label">V√©rifi√© le</span>
                        <span class="value">${new Date().toLocaleDateString('fr-FR', { 
                            day: 'numeric', 
                            month: 'long', 
                            year: 'numeric' 
                        })}</span>
                    </div>
                </div>
                
                <div class="footer">
                    <strong>Bureau des √âtudiants - LIU</strong>
                    <p>Carte d'identit√© officielle</p>
                    <p>Syst√®me de v√©rification s√©curis√©</p>
                </div>
            `;
            
            content.innerHTML = html;
        }
        
        // Render when page loads
        window.addEventListener('load', render);
    </script>
</body>
</html>
